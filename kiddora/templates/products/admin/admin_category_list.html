{% extends "base_admin.html" %}

{% block content %}
<style>
.container { padding: 20px; }
.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }
.search-box { display: flex; gap: 10px; }
table { width: 100%; border-collapse: collapse; }
th, td { padding: 10px; border: 1px solid #ddd; text-align: center; }
th { background: #333; color: #fff; }
.btn { padding: 6px 12px; border-radius: 4px; text-decoration: none; }
.btn-add { background: #28a745; color: white; }
.btn-edit { background: #007bff; color: white; }
.btn-delete { background: #dc3545; color: white; }
.pagination a { margin: 0 5px; }
</style>

<div class="container">
    <div class="header">
        <h2>Category Management</h2>
        <div>
            <a href="{% url 'products:admin_add_category' %}" class="btn btn-add">+ Add Category</a>
            <a href="{% url 'products:admin_subcategory_list' %}" class="btn btn-add">SubCategory List</a>
        </div>
    </div>

    <form method="get" class="search-box">
        <input type="text" name="search" placeholder="Search categories..." value="{{ search }}">
        <button type="submit">Search</button>
        <a href="{% url 'products:admin_category_list' %}" class="btn">Clear</a>
    </form>

    <table>
        <tr>
            <th>ID</th>
            <th>Category Name</th>
            <th>Actions</th>
        </tr>
        {% for cat in page_obj %}
        <tr>
            <td>{{ cat.id }}</td>
            <td>{{ cat.category_name }}</td>
            <td>
                <a class="btn btn-edit" href="{% url 'products:admin_edit_category' cat.id %}">Edit</a>
                <a class="btn btn-delete" href="{% url 'products:admin_delete_category' cat.id %}">Delete</a>
                <a class="btn btn-add" href="{% url 'products:admin_add_subcategory' %}?category={{ cat.id }}">Add SubCategory</a>
            </td>
        </tr>
        {% empty %}
        <tr><td colspan="3">No categories found</td></tr>
        {% endfor %}
    </table>

    {% include "products/admin/pagination.html" %}
</div>
{% endblock %}
