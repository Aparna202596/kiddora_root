{% extends "base_admin.html" %}

{% block content %}
<style>
table { width: 90%; margin: auto; border-collapse: collapse; }
th, td { padding: 10px; border: 1px solid #ddd; text-align: center; }
th { background: #444; color: white; }
</style>

<h2 style="text-align:center;">Inventory Management</h2>

<table>
    <tr>
        <th>Product</th>
        <th>Variant</th>
        <th>Available</th>
        <th>Reserved</th>
        <th>Update Stock</th>
    </tr>

    {% for item in inventory %}
    <tr>
        <td>{{ item.variant.product.product_name }}</td>
        <td>{{ item.variant.color }} / {{ item.variant.size }}</td>
        <td>{{ item.quantity_available }}</td>
        <td>{{ item.quantity_reserved }}</td>
        <td>
            <form method="post" action="{% url 'products:admin_update_stock' item.id %}">
                {% csrf_token %}
                <input type="number" name="quantity" placeholder="+ / -" required>
                <button type="submit">Update</button>
            </form>
        </td>
    </tr>
    {% endfor %}
</table>
{% endblock %}
